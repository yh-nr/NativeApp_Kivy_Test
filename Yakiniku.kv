#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: include src/DefaultPage.kv

<AppFrame>:
    screen_manager: sm
    orientation: 'vertical'
    Label:
        id: title_label
        text:"焼き肉画像ランダム表示アプリ"
        font_size: 30
        size_hint_y: 0.1
        canvas.before:
            Color:
                rgba: 0, 0, 0, 1 # 赤色を指定
            Rectangle:
                pos: self.pos
                size: self.size

    ScreenManager:
        id: sm
        DefaultPage:
            name:'DefaultPage'

    BoxLayout:
        size_hint: 1, 0.2
    
        Button:
            text: "Page1へ"
            font_size: 30
            on_press:
                title_label.text = "焼き肉写真ランダム表示"
                sm.transition = FadeTransition()
                # sm.current = "Page1"
                root.switch2page("Page1")
        Button:
            text: "Page2へ"
            font_size: 30
            on_press:
                title_label.text = "カメラ動作テスト"
                sm.transition = FadeTransition()
                # sm.current = "Page2"
                root.switch2page("Page2")
        Button:
            text: "Page3へ"
            font_size: 30
            on_press:
                title_label.text = "OpenCVでカメラ動かす"
                sm.transition = FadeTransition()
                # sm.current = "Page3"
                root.switch2page("Page3")

 
<ImageWidget>:
    canvas.before:
        Color:
            rgba: 0.6, 0.6, 0.6, 1
        Rectangle:
            pos: self.pos
            size: self.size



<CameraClick>:
    id:cameraclick
    orientation: 'vertical'
    camera_ref:camera_ref
    BoxLayout:
        orientation: 'vertical'
        Camera:
            id:camera_ref
            resolution: (-1, -1)
            play: False
        BoxLayout:
            size_hint_y: 0.3
            padding: 20,30,20,10

            ToggleButton:
                id:playb
                text: 'Play'
                font_size: 30
                on_press: root.ids.camera_ref.play = not root.ids.camera_ref.play
                # size_hint_y: None
                # # height: '48dp'
            Button:
                id:capb
                text: 'Capture'
                font_size: 30
                # size_hint_y: None
                # # height: '48dp'
                on_press: cameraclick.capture()
    